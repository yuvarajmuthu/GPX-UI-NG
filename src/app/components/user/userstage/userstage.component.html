<div class="border-radius bg-white mb-3">
    <div>
        <img src="../../assets/bg.jpg" alt="" class="w-100 height-fix ">
        <div class="cover-camera" *ngIf="isProfileInEditMode()">
            <i class="bx bx-camera center-ion text-green pointer" (click)="fileInputcover.click()"></i>
            <input #fileInputcover type="file" (change)="onChangecover($event)" style="display:none" />
        </div>
    </div>
    <div>
        <div>
            <div>
                <img *ngIf="!isImageLoading" [src]="profileSmImage" class="profile">
                <input type="file" style="display: none;" #profile>
                <i class="bx bx-camera prof-camera text-green" (click)="fileInput.click()" *ngIf="isProfileInEditMode()"></i>
                <div>
                    <input #fileInput type="file" (change)="onProfileSmImageSelected($event)" style="display:none" />
                </div>
            </div>
        </div>

        <!-- Edit Profile-->
        <div class="float-right mr-3">
            <button class="btn button-outline-blue font-14" (click)="largeModal(largeDataModal)"> Edit
                Profile</button>
            <ng-template #largeDataModal let-modal>
                <div class="modal-header">
                    <h5 class="modal-title mt-0">Large modal</h5>

                    <div (click)="modal.dismiss('Cross click')"><i class="bx bx-x"></i> </div>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="exampleInputEmail1">First name</label>
                            <input type="email" class="form-control" id="exampleInputEmail1"
                                aria-describedby="emailHelp" placeholder="First name">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputPassword1">Last name</label>
                            <input type="text" class="form-control" id="exampleInputPassword1" placeholder="Last name">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputPassword1">Place</label>
                            <div class="input-group">
                                <div class="ng-autocomplete">
                                    <ng-autocomplete [data]="data" [searchKeyword]="keyword" placeholder="Place"
                                        class="form-control border-0 bg-search p-0 rounded-right" (selected)='selectEvent($event)'
                                        (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)'
                                        [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">
                                    </ng-autocomplete>
                                    <ng-template #itemTemplate let-item>
                                        <div class="d-flex justify-content-start p-2">
                                            <div>
                                                <img src="{{item.image}}" class="search-profile">
                                            </div>
                                            <div>
                                                <a [innerHTML]="item.name" class="p-2"></a>
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template #notFoundTemplate let-notFound>
                                        <div [innerHTML]="notFound"></div>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputPassword1">Area</label>
                            <ng-multiselect-dropdown
                            class="font-12"
                            [placeholder]="'custom placeholder'"
                            [settings]="dropdownSettings"
                            [data]="dropdownList"
                            [(ngModel)]="selectedItems"
                            name="search"
                            (onSelect)="onItemSelect($event)"
                            (onSelectAll)="onSelectAll($event)"
                          >
                          </ng-multiselect-dropdown>
                        </div>
                        <button type="submit" class="btn button-blue font-14">Submit</button>
                    </form>
                </div>
            </ng-template>
        </div>
    </div>

    <div class="p-3">
        <div class="header-start">
            <div class="font-24 font-w-bold fix-on-header " [class.fixed]="navFixed"> {{userData.displayName}} 
                <span id="link2" class="h6 text-green"> @{{userData.username}}</span>
                <i class="bx bx-bookmark pointer" aria-hidden="true"></i>
            </div>
            <div *ngIf="category === 'LEGISLATURE' || category === 'legislature' || category === 'EXECUTIVE'  || category === 'executive' || category === 'municipalities'">
                <div class="font-16 pointer hover" [class.fixeddes]="navFixed">
                    <a class="text-green font-w-bold pointer" [routerLink]="['/user', userData.role.type]">{{userData.role.type}}</a> at 
                    <a class="text-green font-w-bold pointer" [routerLink]="['/user', userData.role.party]">{{userData.role.party}}</a>
                </div>
                <div class="font-14 color-grew">District 
                    <a class="text-green font-w-bold pointer" [routerLink]="['/user', userData.role.district]">{{userData.role.district}}</a>
                    <span class="text-green font-w-bold pointer"> 
                        <a class="text-green font-w-bold pointer" [routerLink]="['/user', userData.role.state]">  {{userData.role.state | uppercase}}</a>
                    </span>
                </div>
                <div class="color-grew"> <i class="bx bx-calendar"></i> Joined December 2014
                </div>
            </div>
            <div class="d-flex justify-content-start">
                <div *ngIf="!isSelfProfile" class="mr-2 pointer button-outline-blue btn" (click)="connectionAction()">{{connectCntrlLabel}}
                </div>
                <div *ngIf="!isSelfProfile" class="mr-2 pointer button-outline-blue btn" (click)="followAction()">{{followCntrlLabel}}
                </div>
                <div class="mr-2 pointer button-outline-blue btn"><strong>{{followingsCount}}</strong><span class="text-dark"> Following </span>
                </div>
                <div class="mr-2 pointer button-outline-blue btn"><strong>{{followersCount}}</strong><span class="text-dark"> Followers </span>
                </div>
                <div class="mr-2 pointer button-outline-blue btn" (click)="loadTemplate('upMember')"><strong>{{members.length}}</strong><span class="text-dark"> Members </span>
                </div>
                <div *ngIf="!isSelfProfile && !isInCircle" class="mr-2 pointer button-outline-blue btn" (click)="add2Circle()">Add to Circle
                </div>                
                <div *ngIf="!isSelfProfile && isInCircle" class="mr-2 pointer button-outline-blue btn" (click)="removeFromCircle()">In Circle
                </div>                                
            </div>
            <div class="d-flex justify-content-start" [class.fixeds]="navFixed">
                <!--
                <div class="mr-2"><button class="btn button-outline-blue font-14">Open to</button></div>
                 <div class="mr-2"><button class="btn button-outline-blue font-14">Add profile
                            section</button></div> -->
                <div class="d-inline-block mr-2" ngbDropdown #myDrop="ngbDropdown">
                    <button class="btn button-outline-blue font-14 me-2" id="dropdownManual" ngbDropdownAnchor
                        (focus)="myDrop.open()">Add profile section</button>
                    <div ngbDropdownMenu aria-labelledby="dropdownManual">
                        <button ngbDropdownItem *ngFor="let profileTemplate of availableProfileTemplates">
                            {{profileTemplate.name}}
                        </button>
                    </div>
                    <ng-template #SectionModel let-modal>
                        <div class="modal-header">
                            <h5 class="modal-title mt-0">Add section Event-{{SectionName}}</h5>
                            <div (click)="modal.dismiss('Cross click')"><i class="bx bx-x"></i> </div>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="form-group">
                                    <label for="exampleInputEmail1">Description</label>
                                    <textarea class="form-control" id="exampleInputEmail1" rows="5"
                                        aria-describedby="emailHelp" placeholder="description"></textarea>
                                </div>
                                <button type="submit" class="btn button-blue font-14">Submit</button>
                            </form>
                        </div>
                    </ng-template>
                </div>
                <div class="mr-2"><button class="btn button-grew font-14">More</button></div>
            </div>
        </div>
    </div>
</div>

<!-- tab mobile -->
<div class="d-flex flex-row bd-highlight fix-respo hide-big bg-white" [class.fixedstab]="navFixed">
    <div class="p-2 bd-highlight set-w-fix" [routerLink]="['./about']" routerLinkActive="active">Biography</div>
    <div class="p-2 bd-highlight set-w-fix" >Activities</div>
    <div class="p-2 bd-highlight set-w-fix" [routerLink]="['./event']" routerLinkActive="active">Twitter Feeds</div>
    <div class="p-2 bd-highlight set-w-fix" [routerLink]="['./role']" routerLinkActive="active" >Roles</div>
    <div class="p-2 bd-highlight set-w-fix" >Offices</div>
    <div class="p-2 bd-highlight set-w-fix" >Bills</div>
    <div class="p-2 bd-highlight set-w-fix">Settings</div>
  </div>